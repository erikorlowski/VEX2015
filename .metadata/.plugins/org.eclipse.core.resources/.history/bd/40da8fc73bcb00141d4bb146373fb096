/*
 * Lift.c
 *
 *  Created on: Mar 12, 2015
 *      Author: Erik
 */

#include "main.h"

Pickup initPickup(PantherMotor motor)
{
	Pickup newPickup = {motor};
	return newLift;
}

int liftSafety(Lift lift, int desiredSpeed)
{
	if(digitalRead(lift.limitSwitch))
		return limit(desiredSpeed, 127, 0);
	else return limit(desiredSpeed, 127, -127);
}

void liftAtSpeed(Lift lift, int speed)
{
	int speedToFeed = liftSafety(lift, speed);

	setPantherMotor(lift.bottomMotor, speedToFeed);
	setPantherMotor(lift.middleMotor, speedToFeed);
	setPantherMotor(lift.topMotor, speedToFeed);
}
